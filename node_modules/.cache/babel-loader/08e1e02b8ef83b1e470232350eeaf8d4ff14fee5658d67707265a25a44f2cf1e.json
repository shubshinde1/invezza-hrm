{"ast":null,"code":"import * as React from 'react';\nimport { getIntrinsicElementProps, useId, slot } from '@fluentui/react-utilities';\nimport { useCardContext_unstable } from '../Card/CardContext';\nimport { cardHeaderClassNames } from './useCardHeaderStyles.styles';\n/**\n * Finds the first child of CardHeader with an id prop.\n *\n * @param header - the header prop of CardHeader\n */\nfunction getChildWithId(header) {\n  function isReactElementWithIdProp(element) {\n    return React.isValidElement(element) && Boolean(element.props.id);\n  }\n  return React.Children.toArray(header).find(isReactElementWithIdProp);\n}\n/**\n * Returns the id to use for the CardHeader root element.\n *\n * @param headerId - the id prop of the CardHeader component\n * @param childWithId - the first child of the CardHeader component with an id prop\n * @param generatedId - a generated id\n *\n * @returns the id to use for the CardHeader root element\n */\nfunction getReferenceId(headerId, childWithId, generatedId) {\n  if (headerId) {\n    return headerId;\n  }\n  if (childWithId === null || childWithId === void 0 ? void 0 : childWithId.props.id) {\n    return childWithId.props.id;\n  }\n  return generatedId;\n}\n/**\n * Create the state required to render CardHeader.\n *\n * The returned state can be modified with hooks such as useCardHeaderStyles_unstable,\n * before being passed to renderCardHeader_unstable.\n *\n * @param props - props from this instance of CardHeader\n * @param ref - reference to root HTMLElement of CardHeader\n */\nexport const useCardHeader_unstable = (props, ref) => {\n  const {\n    image,\n    header,\n    description,\n    action\n  } = props;\n  const {\n    selectableA11yProps: {\n      referenceId,\n      setReferenceId\n    }\n  } = useCardContext_unstable();\n  const headerRef = React.useRef(null);\n  const hasChildId = React.useRef(false);\n  const generatedId = useId(cardHeaderClassNames.header, referenceId);\n  const headerSlot = slot.optional(header, {\n    renderByDefault: true,\n    defaultProps: {\n      ref: headerRef,\n      id: !hasChildId.current ? referenceId : undefined\n    },\n    elementType: 'div'\n  });\n  React.useEffect(() => {\n    var _headerRef_current;\n    const headerId = !hasChildId.current ? (_headerRef_current = headerRef.current) === null || _headerRef_current === void 0 ? void 0 : _headerRef_current.id : undefined;\n    const childWithId = getChildWithId(headerSlot === null || headerSlot === void 0 ? void 0 : headerSlot.children);\n    hasChildId.current = Boolean(childWithId);\n    setReferenceId(getReferenceId(headerId, childWithId, generatedId));\n  }, [generatedId, header, headerSlot, setReferenceId]);\n  return {\n    components: {\n      root: 'div',\n      image: 'div',\n      header: 'div',\n      description: 'div',\n      action: 'div'\n    },\n    root: slot.always(getIntrinsicElementProps('div', {\n      // FIXME:\n      // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n      // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n      ref: ref,\n      ...props\n    }), {\n      elementType: 'div'\n    }),\n    image: slot.optional(image, {\n      elementType: 'div'\n    }),\n    header: headerSlot,\n    description: slot.optional(description, {\n      elementType: 'div'\n    }),\n    action: slot.optional(action, {\n      elementType: 'div'\n    })\n  };\n};","map":{"version":3,"names":["React","getIntrinsicElementProps","useId","slot","useCardContext_unstable","cardHeaderClassNames","getChildWithId","header","isReactElementWithIdProp","element","isValidElement","Boolean","props","id","Children","toArray","find","getReferenceId","headerId","childWithId","generatedId","useCardHeader_unstable","ref","image","description","action","selectableA11yProps","referenceId","setReferenceId","headerRef","useRef","hasChildId","headerSlot","optional","renderByDefault","defaultProps","current","undefined","elementType","useEffect","_headerRef_current","children","components","root","always"],"sources":["D:/shubh/invezza-hrm/node_modules/@fluentui/react-card/lib/components/CardHeader/useCardHeader.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, useId, slot } from '@fluentui/react-utilities';\nimport { useCardContext_unstable } from '../Card/CardContext';\nimport { cardHeaderClassNames } from './useCardHeaderStyles.styles';\n/**\n * Finds the first child of CardHeader with an id prop.\n *\n * @param header - the header prop of CardHeader\n */ function getChildWithId(header) {\n    function isReactElementWithIdProp(element) {\n        return React.isValidElement(element) && Boolean(element.props.id);\n    }\n    return React.Children.toArray(header).find(isReactElementWithIdProp);\n}\n/**\n * Returns the id to use for the CardHeader root element.\n *\n * @param headerId - the id prop of the CardHeader component\n * @param childWithId - the first child of the CardHeader component with an id prop\n * @param generatedId - a generated id\n *\n * @returns the id to use for the CardHeader root element\n */ function getReferenceId(headerId, childWithId, generatedId) {\n    if (headerId) {\n        return headerId;\n    }\n    if (childWithId === null || childWithId === void 0 ? void 0 : childWithId.props.id) {\n        return childWithId.props.id;\n    }\n    return generatedId;\n}\n/**\n * Create the state required to render CardHeader.\n *\n * The returned state can be modified with hooks such as useCardHeaderStyles_unstable,\n * before being passed to renderCardHeader_unstable.\n *\n * @param props - props from this instance of CardHeader\n * @param ref - reference to root HTMLElement of CardHeader\n */ export const useCardHeader_unstable = (props, ref)=>{\n    const { image, header, description, action } = props;\n    const { selectableA11yProps: { referenceId, setReferenceId } } = useCardContext_unstable();\n    const headerRef = React.useRef(null);\n    const hasChildId = React.useRef(false);\n    const generatedId = useId(cardHeaderClassNames.header, referenceId);\n    const headerSlot = slot.optional(header, {\n        renderByDefault: true,\n        defaultProps: {\n            ref: headerRef,\n            id: !hasChildId.current ? referenceId : undefined\n        },\n        elementType: 'div'\n    });\n    React.useEffect(()=>{\n        var _headerRef_current;\n        const headerId = !hasChildId.current ? (_headerRef_current = headerRef.current) === null || _headerRef_current === void 0 ? void 0 : _headerRef_current.id : undefined;\n        const childWithId = getChildWithId(headerSlot === null || headerSlot === void 0 ? void 0 : headerSlot.children);\n        hasChildId.current = Boolean(childWithId);\n        setReferenceId(getReferenceId(headerId, childWithId, generatedId));\n    }, [\n        generatedId,\n        header,\n        headerSlot,\n        setReferenceId\n    ]);\n    return {\n        components: {\n            root: 'div',\n            image: 'div',\n            header: 'div',\n            description: 'div',\n            action: 'div'\n        },\n        root: slot.always(getIntrinsicElementProps('div', {\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: ref,\n            ...props\n        }), {\n            elementType: 'div'\n        }),\n        image: slot.optional(image, {\n            elementType: 'div'\n        }),\n        header: headerSlot,\n        description: slot.optional(description, {\n            elementType: 'div'\n        }),\n        action: slot.optional(action, {\n            elementType: 'div'\n        })\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}