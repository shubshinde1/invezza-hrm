{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{DASHBOARD_SIDEBAR_LINKS}from\"../../lib/consts/navigation\";import logo from\"../../assets/images/invezza-logo.png\";import{Link,useLocation}from\"react-router-dom\";import classNames from\"classnames\";import{TbLayoutSidebarLeftCollapseFilled}from\"react-icons/tb\";import{HiMenuAlt1}from\"react-icons/hi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LinkClasses=\"flex hover:bg-[#EBE9F6] hover:duration-500 p-3 mt-1.5 rounded-md euclid\";export default function Sidebar(){const{pathname}=useLocation();const[isSidebarOpen,setIsSidebarOpen]=useState(false);const[clickedItem,setClickedItem]=useState(null);const sidebarRef=useRef(null);const[isMobile,setIsMobile]=useState(false);useEffect(()=>{function handleClickOutside(event){if(sidebarRef.current&&!sidebarRef.current.contains(event.target)){setIsSidebarOpen(false);}}function handleEscapeKey(event){if(event.key===\"Escape\"){setIsSidebarOpen(false);}}function handleResize(){setIsMobile(window.innerWidth<768);// Adjust the breakpoint as needed\n}handleResize();// Set initial mobile/desktop state\nwindow.addEventListener(\"resize\",handleResize);document.addEventListener(\"mousedown\",handleClickOutside);document.addEventListener(\"keydown\",handleEscapeKey);return()=>{window.removeEventListener(\"resize\",handleResize);document.removeEventListener(\"mousedown\",handleClickOutside);document.removeEventListener(\"keydown\",handleEscapeKey);};},[]);const toggleSidebar=()=>{setIsSidebarOpen(!isSidebarOpen);};const handleItemClick=item=>{if(isMobile){setClickedItem(clickedItem===item?null:item);}};const handleMouseEnter=item=>{if(!isMobile){setClickedItem(item);}};const handleMouseLeave=()=>{if(!isMobile){setClickedItem(null);}};const handleToggleAndItemClick=item=>{toggleSidebar();handleItemClick(item);};return/*#__PURE__*/_jsxs(\"div\",{className:\"z-10\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"md:hidden fixed top-2 left-2 p-3 text-black bg-white rounded-md\",onClick:toggleSidebar,children:/*#__PURE__*/_jsx(HiMenuAlt1,{className:\"text-2xl \"})}),/*#__PURE__*/_jsxs(\"div\",{ref:sidebarRef,className:\"md:flex md:flex-col w-60 h-[98vh] md:h-screen ml-2 mt-2 md:m-0 md:rounded-none rounded-md absolute md:relative p-4 bg-white z-50 shadow-2xl md:shadow-none \".concat(isSidebarOpen?\"\":\"hidden\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\" flex flex-row justify-between items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"pr-16\",alt:\"logo\"}),/*#__PURE__*/_jsx(TbLayoutSidebarLeftCollapseFilled,{className:\"text-2xl absolute flex md:hidden right-5 mt-5 hover:bg-[#EBE9F6] rounded-md\",onClick:toggleSidebar})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 mt-10 mb-2\",children:DASHBOARD_SIDEBAR_LINKS.map(item=>/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",onMouseEnter:()=>handleMouseEnter(item),onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(SidebarLink,{item:item,pathname:pathname,onClick:handleToggleAndItemClick}),clickedItem===item&&item.subItems&&/*#__PURE__*/_jsx(\"div\",{className:\"md:absolute left-52 md:pl-6 top-0 md:w-60 \",children:/*#__PURE__*/_jsx(\"div\",{className:\" bg-white shadow-md rounded-md p-1 border\",children:item.subItems.map(subItem=>/*#__PURE__*/_jsx(SidebarLink,{item:subItem,pathname:pathname,onClick:toggleSidebar},subItem.key))})})]})},item.key))})]})]});}function SidebarLink(_ref){let{item,pathname,onClick}=_ref;return/*#__PURE__*/_jsxs(Link,{to:item.path,className:classNames(pathname===item.path?\"euclid-bold bg-[#EBE9F6] after:w-1.5 after:bg-[#3C5EFE] after:rounded-full\":\"\",LinkClasses),onClick:onClick,children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl my-auto\",children:item.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 w-[90%]\",children:item.label})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","DASHBOARD_SIDEBAR_LINKS","logo","Link","useLocation","classNames","TbLayoutSidebarLeftCollapseFilled","HiMenuAlt1","jsx","_jsx","jsxs","_jsxs","LinkClasses","Sidebar","pathname","isSidebarOpen","setIsSidebarOpen","clickedItem","setClickedItem","sidebarRef","isMobile","setIsMobile","handleClickOutside","event","current","contains","target","handleEscapeKey","key","handleResize","window","innerWidth","addEventListener","document","removeEventListener","toggleSidebar","handleItemClick","item","handleMouseEnter","handleMouseLeave","handleToggleAndItemClick","className","children","onClick","ref","concat","src","alt","map","Fragment","onMouseEnter","onMouseLeave","SidebarLink","subItems","subItem","_ref","to","path","icon","label"],"sources":["D:/shubh/invezza-hrm/src/components/shared/Sidebar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { DASHBOARD_SIDEBAR_LINKS } from \"../../lib/consts/navigation\";\r\nimport logo from \"../../assets/images/invezza-logo.png\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport { TbLayoutSidebarLeftCollapseFilled } from \"react-icons/tb\";\r\nimport { HiMenuAlt1 } from \"react-icons/hi\";\r\n\r\nconst LinkClasses =\r\n  \"flex hover:bg-[#EBE9F6] hover:duration-500 p-3 mt-1.5 rounded-md euclid\";\r\n\r\nexport default function Sidebar() {\r\n  const { pathname } = useLocation();\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n  const [clickedItem, setClickedItem] = useState(null);\r\n  const sidebarRef = useRef(null);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (sidebarRef.current && !sidebarRef.current.contains(event.target)) {\r\n        setIsSidebarOpen(false);\r\n      }\r\n    }\r\n\r\n    function handleEscapeKey(event) {\r\n      if (event.key === \"Escape\") {\r\n        setIsSidebarOpen(false);\r\n      }\r\n    }\r\n\r\n    function handleResize() {\r\n      setIsMobile(window.innerWidth < 768); // Adjust the breakpoint as needed\r\n    }\r\n\r\n    handleResize(); // Set initial mobile/desktop state\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    document.addEventListener(\"keydown\", handleEscapeKey);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n      document.removeEventListener(\"keydown\", handleEscapeKey);\r\n    };\r\n  }, []);\r\n\r\n  const toggleSidebar = () => {\r\n    setIsSidebarOpen(!isSidebarOpen);\r\n  };\r\n\r\n  const handleItemClick = (item) => {\r\n    if (isMobile) {\r\n      setClickedItem(clickedItem === item ? null : item);\r\n    }\r\n  };\r\n\r\n  const handleMouseEnter = (item) => {\r\n    if (!isMobile) {\r\n      setClickedItem(item);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (!isMobile) {\r\n      setClickedItem(null);\r\n    }\r\n  };\r\n\r\n  const handleToggleAndItemClick = (item) => {\r\n    toggleSidebar();\r\n    handleItemClick(item);\r\n  };\r\n  return (\r\n    <div className=\"z-10\">\r\n      <button\r\n        className=\"md:hidden fixed top-2 left-2 p-3 text-black bg-white rounded-md\"\r\n        onClick={toggleSidebar}\r\n      >\r\n        <HiMenuAlt1 className=\"text-2xl \" />\r\n      </button>\r\n      <div\r\n        ref={sidebarRef}\r\n        className={`md:flex md:flex-col w-60 h-[98vh] md:h-screen ml-2 mt-2 md:m-0 md:rounded-none rounded-md absolute md:relative p-4 bg-white z-50 shadow-2xl md:shadow-none ${\r\n          isSidebarOpen ? \"\" : \"hidden\"\r\n        }`}\r\n      >\r\n        <div className=\" flex flex-row justify-between items-center\">\r\n          <img src={logo} className=\"pr-16\" alt=\"logo\" />\r\n          <TbLayoutSidebarLeftCollapseFilled\r\n            className=\"text-2xl absolute flex md:hidden right-5 mt-5 hover:bg-[#EBE9F6] rounded-md\"\r\n            onClick={toggleSidebar}\r\n          />\r\n        </div>\r\n        <div className=\"flex-1 mt-10 mb-2\">\r\n          {DASHBOARD_SIDEBAR_LINKS.map((item) => (\r\n            <React.Fragment key={item.key}>\r\n              <div\r\n                className=\"relative\"\r\n                onMouseEnter={() => handleMouseEnter(item)}\r\n                onMouseLeave={handleMouseLeave}\r\n              >\r\n                <SidebarLink\r\n                  item={item}\r\n                  pathname={pathname}\r\n                  onClick={handleToggleAndItemClick}\r\n                />\r\n                {clickedItem === item && item.subItems && (\r\n                  <div className=\"md:absolute left-52 md:pl-6 top-0 md:w-60 \">\r\n                    <div className=\" bg-white shadow-md rounded-md p-1 border\">\r\n                      {item.subItems.map((subItem) => (\r\n                        <SidebarLink\r\n                          key={subItem.key}\r\n                          item={subItem}\r\n                          pathname={pathname}\r\n                          onClick={toggleSidebar}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SidebarLink({ item, pathname, onClick }) {\r\n  return (\r\n    <Link\r\n      to={item.path}\r\n      className={classNames(\r\n        pathname === item.path\r\n          ? \"euclid-bold bg-[#EBE9F6] after:w-1.5 after:bg-[#3C5EFE] after:rounded-full\"\r\n          : \"\",\r\n        LinkClasses\r\n      )}\r\n      onClick={onClick}\r\n    >\r\n      <span className=\"text-xl my-auto\">{item.icon}</span>\r\n      <span className=\"ml-3 w-[90%]\">{item.label}</span>\r\n    </Link>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}