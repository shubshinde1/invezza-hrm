{"ast":null,"code":"import { useEventCallback, useMergedRefs } from '@fluentui/react-utilities';\nimport { nextTypeAheadElement } from '../utils/nextTypeAheadElement';\nimport { treeDataTypes } from '../utils/tokens';\nimport { useRovingTabIndex } from './useRovingTabIndexes';\nimport { dataTreeItemValueAttrName } from '../utils/getTreeItemValueFromElement';\nimport * as React from 'react';\nimport { useHTMLElementWalkerRef } from './useHTMLElementWalkerRef';\nexport function useFlatTreeNavigation() {\n  const {\n    walkerRef,\n    rootRef: walkerRootRef\n  } = useHTMLElementWalkerRef();\n  const {\n    rove,\n    initialize: initializeRovingTabIndex\n  } = useRovingTabIndex();\n  const rootRefCallback = React.useCallback(root => {\n    if (walkerRef.current && root) {\n      initializeRovingTabIndex(walkerRef.current);\n    }\n  }, [initializeRovingTabIndex, walkerRef]);\n  function getNextElement(data) {\n    if (!walkerRef.current) {\n      return null;\n    }\n    switch (data.type) {\n      case treeDataTypes.Click:\n        return data.target;\n      case treeDataTypes.TypeAhead:\n        walkerRef.current.currentElement = data.target;\n        return nextTypeAheadElement(walkerRef.current, data.event.key);\n      case treeDataTypes.ArrowLeft:\n        {\n          const nextElement = parentElement(data.parentValue, walkerRef.current);\n          if (!nextElement && process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.warn(`@fluentui/react-tree [useFlatTreeNavigation]:\n\\'ArrowLeft\\' navigation was not possible.\nNo parent element found for the current element:`, data.target);\n          }\n          return nextElement;\n        }\n      case treeDataTypes.ArrowRight:\n        {\n          walkerRef.current.currentElement = data.target;\n          const nextElement = firstChild(data.target, walkerRef.current);\n          if (!nextElement && process.env.NODE_ENV !== 'production') {\n            const ariaLevel = Number(data.target.getAttribute('aria-level'));\n            // eslint-disable-next-line no-console\n            console.warn(`@fluentui/react-tree [useFlatTreeNavigation]:\n\\'ArrowRight\\' navigation was not possible.\nNo element with \"aria-posinset=1\" and \"aria-level=${ariaLevel + 1}\"\nwas found after the current element!`, data.target);\n          }\n          return nextElement;\n        }\n      case treeDataTypes.End:\n        walkerRef.current.currentElement = walkerRef.current.root;\n        return walkerRef.current.lastChild();\n      case treeDataTypes.Home:\n        walkerRef.current.currentElement = walkerRef.current.root;\n        return walkerRef.current.firstChild();\n      case treeDataTypes.ArrowDown:\n        walkerRef.current.currentElement = data.target;\n        return walkerRef.current.nextElement();\n      case treeDataTypes.ArrowUp:\n        walkerRef.current.currentElement = data.target;\n        return walkerRef.current.previousElement();\n    }\n  }\n  const navigate = useEventCallback(data => {\n    const nextElement = getNextElement(data);\n    if (nextElement) {\n      rove(nextElement);\n    }\n  });\n  return {\n    navigate,\n    rootRef: useMergedRefs(walkerRootRef, rootRefCallback)\n  };\n}\nfunction firstChild(target, treeWalker) {\n  const nextElement = treeWalker.nextElement();\n  if (!nextElement) {\n    return null;\n  }\n  const nextElementAriaPosInSet = nextElement.getAttribute('aria-posinset');\n  const nextElementAriaLevel = nextElement.getAttribute('aria-level');\n  const targetAriaLevel = target.getAttribute('aria-level');\n  if (nextElementAriaPosInSet === '1' && Number(nextElementAriaLevel) === Number(targetAriaLevel) + 1) {\n    return nextElement;\n  }\n  return null;\n}\nfunction parentElement(parentValue, treeWalker) {\n  if (parentValue === undefined) {\n    return null;\n  }\n  return treeWalker.root.querySelector(`[${dataTreeItemValueAttrName}=\"${parentValue}\"]`);\n}","map":{"version":3,"names":["useEventCallback","useMergedRefs","nextTypeAheadElement","treeDataTypes","useRovingTabIndex","dataTreeItemValueAttrName","React","useHTMLElementWalkerRef","useFlatTreeNavigation","walkerRef","rootRef","walkerRootRef","rove","initialize","initializeRovingTabIndex","rootRefCallback","useCallback","root","current","getNextElement","data","type","Click","target","TypeAhead","currentElement","event","key","ArrowLeft","nextElement","parentElement","parentValue","process","env","NODE_ENV","console","warn","ArrowRight","firstChild","ariaLevel","Number","getAttribute","End","lastChild","Home","ArrowDown","ArrowUp","previousElement","navigate","treeWalker","nextElementAriaPosInSet","nextElementAriaLevel","targetAriaLevel","undefined","querySelector"],"sources":["D:/shubh/invezza-hrm/node_modules/@fluentui/react-tree/lib/hooks/useFlatTreeNavigation.js"],"sourcesContent":["import { useEventCallback, useMergedRefs } from '@fluentui/react-utilities';\nimport { nextTypeAheadElement } from '../utils/nextTypeAheadElement';\nimport { treeDataTypes } from '../utils/tokens';\nimport { useRovingTabIndex } from './useRovingTabIndexes';\nimport { dataTreeItemValueAttrName } from '../utils/getTreeItemValueFromElement';\nimport * as React from 'react';\nimport { useHTMLElementWalkerRef } from './useHTMLElementWalkerRef';\nexport function useFlatTreeNavigation() {\n    const { walkerRef, rootRef: walkerRootRef } = useHTMLElementWalkerRef();\n    const { rove, initialize: initializeRovingTabIndex } = useRovingTabIndex();\n    const rootRefCallback = React.useCallback((root)=>{\n        if (walkerRef.current && root) {\n            initializeRovingTabIndex(walkerRef.current);\n        }\n    }, [\n        initializeRovingTabIndex,\n        walkerRef\n    ]);\n    function getNextElement(data) {\n        if (!walkerRef.current) {\n            return null;\n        }\n        switch(data.type){\n            case treeDataTypes.Click:\n                return data.target;\n            case treeDataTypes.TypeAhead:\n                walkerRef.current.currentElement = data.target;\n                return nextTypeAheadElement(walkerRef.current, data.event.key);\n            case treeDataTypes.ArrowLeft:\n                {\n                    const nextElement = parentElement(data.parentValue, walkerRef.current);\n                    if (!nextElement && process.env.NODE_ENV !== 'production') {\n                        // eslint-disable-next-line no-console\n                        console.warn(`@fluentui/react-tree [useFlatTreeNavigation]:\n\\'ArrowLeft\\' navigation was not possible.\nNo parent element found for the current element:`, data.target);\n                    }\n                    return nextElement;\n                }\n            case treeDataTypes.ArrowRight:\n                {\n                    walkerRef.current.currentElement = data.target;\n                    const nextElement = firstChild(data.target, walkerRef.current);\n                    if (!nextElement && process.env.NODE_ENV !== 'production') {\n                        const ariaLevel = Number(data.target.getAttribute('aria-level'));\n                        // eslint-disable-next-line no-console\n                        console.warn(`@fluentui/react-tree [useFlatTreeNavigation]:\n\\'ArrowRight\\' navigation was not possible.\nNo element with \"aria-posinset=1\" and \"aria-level=${ariaLevel + 1}\"\nwas found after the current element!`, data.target);\n                    }\n                    return nextElement;\n                }\n            case treeDataTypes.End:\n                walkerRef.current.currentElement = walkerRef.current.root;\n                return walkerRef.current.lastChild();\n            case treeDataTypes.Home:\n                walkerRef.current.currentElement = walkerRef.current.root;\n                return walkerRef.current.firstChild();\n            case treeDataTypes.ArrowDown:\n                walkerRef.current.currentElement = data.target;\n                return walkerRef.current.nextElement();\n            case treeDataTypes.ArrowUp:\n                walkerRef.current.currentElement = data.target;\n                return walkerRef.current.previousElement();\n        }\n    }\n    const navigate = useEventCallback((data)=>{\n        const nextElement = getNextElement(data);\n        if (nextElement) {\n            rove(nextElement);\n        }\n    });\n    return {\n        navigate,\n        rootRef: useMergedRefs(walkerRootRef, rootRefCallback)\n    };\n}\nfunction firstChild(target, treeWalker) {\n    const nextElement = treeWalker.nextElement();\n    if (!nextElement) {\n        return null;\n    }\n    const nextElementAriaPosInSet = nextElement.getAttribute('aria-posinset');\n    const nextElementAriaLevel = nextElement.getAttribute('aria-level');\n    const targetAriaLevel = target.getAttribute('aria-level');\n    if (nextElementAriaPosInSet === '1' && Number(nextElementAriaLevel) === Number(targetAriaLevel) + 1) {\n        return nextElement;\n    }\n    return null;\n}\nfunction parentElement(parentValue, treeWalker) {\n    if (parentValue === undefined) {\n        return null;\n    }\n    return treeWalker.root.querySelector(`[${dataTreeItemValueAttrName}=\"${parentValue}\"]`);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}